<!DOCTYPE html>
<html>

  <style>
    body{
      background-color: rgb(157, 207, 238);
      align-items: center;
      margin:30px;
    }
  

    h1{
      font-style: italic;
      text-align: center;
      padding: 8px;
    }
    textarea{
      color: black;
      border-radius: 10px;}

    .post_button{
      background-color:white;
      color:rgb(29, 161, 242);
      border-color:rgb(29, 161, 242);
      border-style:solid;
      height: 50px;
      width: 105px;
      cursor: pointer;
      border-radius: 5px;
      margin-left:8px;
      transition: (background-color,1s color, 1s);
    }
    .post_button:hover{
      /* invert color */
      background-color:rgb(29, 161, 242);
      color: white;
    }
    .post_button:active{
      opacity: 0.7;
    }
    .ShowColorCount{
      font-weight: normal;
      color: lightgrey;
    }
    .ShowColorCount.negative_Num{
      color: red;
      font-weight: bold;
    }
  </style>
  
  <body>
      <!--
      task 1: show length of input troughout✅ 
      task 2: once click, remove text ✅  
      task 3: show count throughout 
      task 4: post ONLY when length limit is satisfied
      task 5: show all posts-->
    <div>
      <div>  
        <!--1. get input, count the length of input actively-->
        <h1>The Twitter Page</h1>
        <textarea id="field1" rows="9" cols="50">Enter Text, limit 30 characters</textarea>
        <br>

        <span id="LengthCount" class = "ShowColorCount">Remaining: 30 </span>

        <!--4. Make Post meet conditon, show all post-->
        <br>
        <button class = "post_button" id = postBtn>Post Tweet</button>

        <div id="posts"></div>


        <script>
          function Counter(id) {
            var field = document.getElementById(id);
            var the_counter = document.getElementById("LengthCount");
            var button = document.getElementById("postBtn");
            var username = "@Chilton"; // Hardcoded username

            field.addEventListener("input", function () {
              let length = field.value.length;
              let remainder = 30 - length;
              the_counter.innerText = "Remaining: " + remainder;

              if (remainder >= 0) {
                the_counter.classList.remove("negative_Num");
                button.disabled = false;  // Enable the button when within limit
              } else {
                the_counter.classList.add("negative_Num");
                button.disabled = true;   // Disable the button when over limit
              }
            });
            // make the post
            button.addEventListener("click", function () {
              var text = field.value;
              if (text.trim() !== "") { // Prevent posting empty/whitespace-only tweets
                var post = document.createElement('p'); // "p" is to post , create new element to hold new tweet
                post.textContent = username + ": " + text; // Add username
                document.getElementById("posts").prepend(post); // new text to apear on top 
              }
              field.value = ""; // Clear textarea after posting
              the_counter.innerText = "Remaining: 30"; // Reset counter
              button.disabled = true; // Disable button after posting
            });
        }
       Counter("field1");
      </script>  
    </div>


      <div>
        <!--2. one clicked, remove the hardcoded text-->
        <script>
          function addEvents(id) {
            var field = document.getElementById(id);
            field.onfocus = function () {
              if (this.value.trim() === "Enter Text, limit 30 characters") {
                this.value = "";
              }
              let lenght_count = value.length;
            };
          }
          addEvents("field1"); 
        </script>
      </div>
    </div>

  </body>
</html>

