<!DOCTYPE html>
<html>
  <link rel="stylesheet" href="MakeTweet.css">

  <body>
      <!--
      task 1: show length of input troughout
      task 2: once click, remove text  
      task 3: show count throughout 
      task 4: post ONLY when length limit is satisfied
      task 5: show all posts-->
    <div>
      <div>  
        <!--1. get input, count the length of input actively-->
        <h1>Twitter Page ê¶â </h1>
        <textarea id="field1" rows="11" cols="45">Enter Text, limit 30 characters</textarea>
        <br>

        <span id="LengthCount" class = "ShowColorCount">Remaining: 30 </span>

        <!--4. Make Post meet conditon, show all post-->
        <br>
        <button class = "post_button" id = postBtn>Post Tweet ê¶â </button>

        <div id="posts"></div>


        <script>
          function Counter(id) {
            var field = document.getElementById(id);
            var the_counter = document.getElementById("LengthCount");
            var button = document.getElementById("postBtn");
            var username = "@RayanHayle"; // Hardcoded username

            field.addEventListener("input", function () {
              let length = field.value.length;
              let remainder = 30 - length;
              the_counter.innerText = "Remaining: " + remainder;

              if (remainder >= 0) {
                the_counter.classList.remove("negative_Num");
                button.disabled = false;  // Enable the button when within limit
              } else {
                the_counter.classList.add("negative_Num");
                button.disabled = true;   // Disable the button when over limit
              }
            });
            // make the post
            button.addEventListener("click", function () {
              var text = field.value;
              if (text.trim() !== "") { // Prevent posting empty/whitespace-only tweets
                var post = document.createElement('p'); // "p" is to post , create new element to hold new tweet
                post.textContent = username + ": " + text; // Add username
                document.getElementById("posts").prepend(post); // new text to apear on top 
              }
              field.value = ""; // Clear textarea after posting
              the_counter.innerText = "Remaining: 30"; // Reset counter
              button.disabled = true; // Disable button after posting
            });
        }
       Counter("field1");
      </script>  
    </div>


      <div>
        <!--2. one clicked, remove the hardcoded text-->
        <script>
          function addEvents(id) {
            var field = document.getElementById(id);
            field.onfocus = function () {
              if (this.value.trim() === "Enter Text, limit 30 characters") {
                this.value = "";
              }
              let lenght_count = value.length;
            };
          }
          addEvents("field1"); 
        </script>
      </div>
    </div>
  </body>
</html>

